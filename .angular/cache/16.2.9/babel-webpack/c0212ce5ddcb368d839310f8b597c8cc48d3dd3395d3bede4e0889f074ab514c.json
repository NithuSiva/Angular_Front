{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Ni2/Documents/Angular_Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/student/student.service\";\nimport * as i2 from \"../user-form/user-form.component\";\nimport * as i3 from \"../user/user.component\";\nexport let UserListComponent = /*#__PURE__*/(() => {\n  class UserListComponent {\n    studentService;\n    studentList = [];\n    STUDENTS_LIST = [];\n    constructor(studentService) {\n      this.studentService = studentService;\n      // this.studentService.students$.subscribe((student) => this.studentList = student);\n      this.studentService.studentHasBeenAdded.subscribe(newStudent => {\n        console.log(\"Emetteur a jours !\", newStudent);\n        window.location.reload();\n      });\n      this.studentService.studentHasBeenDeleted.subscribe(newStudent => {\n        console.log(\"Emetteur a jours !\", newStudent);\n        window.location.reload();\n      });\n    }\n    ngOnInit() {\n      this.httpGetStudents();\n      this.studentService.students$.subscribe(elem => {\n        elem.forEach(student => {\n          this.STUDENTS_LIST.push(student);\n        });\n      });\n    }\n    httpGetStudents() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        try {\n          yield _this.studentService.httpGetStudents();\n        } catch (error) {\n          console.error(\"Erreur httpGetStudents\");\n        }\n      })();\n    }\n    httpDeleteStudent(user) {\n      try {\n        console.log(\"USER LIST user: \", user);\n        this.studentService.httpDeleteStudent(user.id);\n      } catch (error) {\n        console.error(\"Erreur httpDeleteStudent\");\n      }\n    }\n    ticketHasBeenSelected(hasBeenSelected) {\n      console.log('event received from child:', hasBeenSelected);\n    }\n    static ɵfac = function UserListComponent_Factory(t) {\n      return new (t || UserListComponent)(i0.ɵɵdirectiveInject(i1.StudentService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserListComponent,\n      selectors: [[\"app-user-list\"]],\n      decls: 16,\n      vars: 1,\n      consts: [[\"id\", \"tbody\"], [1, \"tr\"], [1, \"app\", 3, \"student\", \"studentHasBeenDeleted\"]],\n      template: function UserListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"Liste des \\u00E9tudiants\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(2, \"app-user-form\");\n          i0.ɵɵelementStart(3, \"table\")(4, \"tr\")(5, \"th\");\n          i0.ɵɵtext(6, \"Id\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"th\");\n          i0.ɵɵtext(8, \"Nom\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\");\n          i0.ɵɵtext(10, \"Prenom\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"th\");\n          i0.ɵɵtext(12, \"Delete\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"tbody\", 0)(14, \"tr\", 1)(15, \"app-user\", 2);\n          i0.ɵɵlistener(\"studentHasBeenDeleted\", function UserListComponent_Template_app_user_studentHasBeenDeleted_15_listener($event) {\n            return ctx.httpDeleteStudent($event);\n          });\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(15);\n          i0.ɵɵproperty(\"student\", ctx.student);\n        }\n      },\n      dependencies: [i2.UserFormComponent, i3.UserComponent],\n      styles: [\"var[_ngcontent-%COMP%]   resource[_ngcontent-%COMP%];\\n\\n (()[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] >  { // webpackBootstrap\\n\\n \\tvar __webpack_modules__ = ({\\n\\n\\n 250:\\n\\n\\n\\n\\n\\n (() => {\\n\\nthrow new Error(\\\"Module build failed (from ./node_modules/postcss-loader/dist/cjs.js):\\\\n\\\\nSyntaxError\\\\n\\\\n(32:1) C:\\\\\\\\Users\\\\\\\\Ni2\\\\\\\\Documents\\\\\\\\Angular_Front\\\\\\\\src\\\\\\\\app\\\\\\\\users\\\\\\\\user-list\\\\\\\\user-list.component.css Unexpected }\\\\n\\\\n \\\\u001b[90m 30 | \\\\u001b[39m    display\\\\u001b[33m:\\\\u001b[39m contents\\\\u001b[33m;\\\\u001b[39m\\\\n \\\\u001b[90m 31 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n\\\\u001b[1m\\\\u001b[31m>\\\\u001b[39m\\\\u001b[22m\\\\u001b[90m 32 | \\\\u001b[39m\\\\u001b[33m}\\\\u001b[39m\\\\n[_ngcontent-%COMP%]   \\\\u001b[90m[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   \\\\u001b[39m\\\\u001b[1m\\\\u001b[31m^\\\\u001b[39m\\\\u001b[22m\\\\n[_ngcontent-%COMP%]   \\\\u001b[90m 33[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   \\\\u001b[39m\\\\n[_ngcontent-%COMP%]   \\\\u001b[90m 34[_ngcontent-%COMP%]   |[_ngcontent-%COMP%]   \\\\u001b[39m\\\\u001b[33m.delete_button\\\\u001b[39m[_ngcontent-%COMP%]   \\\\u001b[33m[_ngcontent-%COMP%]{\\\\u001b[39m\\\\n\\\");\\n\\n\\n })\\n\\n\\n \\t})[_ngcontent-%COMP%];\\n\\n\\n\\n \\t\\n\\n \\t//[_ngcontent-%COMP%]   startup\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   Load[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   and[_ngcontent-%COMP%]   return[_ngcontent-%COMP%]   exports\\n\\n[_ngcontent-%COMP%]   //[_ngcontent-%COMP%]   This[_ngcontent-%COMP%]   entry[_ngcontent-%COMP%]   module[_ngcontent-%COMP%]   doesn't[_ngcontent-%COMP%]   tell[_ngcontent-%COMP%]   about[_ngcontent-%COMP%]   it's[_ngcontent-%COMP%]   top-level[_ngcontent-%COMP%]   declarations[_ngcontent-%COMP%]   so[_ngcontent-%COMP%]   it[_ngcontent-%COMP%]   can't[_ngcontent-%COMP%]   be[_ngcontent-%COMP%]   inlined\\n\\n[_ngcontent-%COMP%]   var[_ngcontent-%COMP%]   __webpack_exports__[_ngcontent-%COMP%]   =[_ngcontent-%COMP%] {};\\n\\n \\t__webpack_modules__[250]();\\n\\n \\tresource = __webpack_exports__;\\n\\n \\t\\n\\n })()\\n;\\n/*# sourceMappingURL=user-list.component.css.map*/\"]\n    });\n  }\n  return UserListComponent;\n})();","map":{"version":3,"names":["UserListComponent","studentService","studentList","STUDENTS_LIST","constructor","studentHasBeenAdded","subscribe","newStudent","console","log","window","location","reload","studentHasBeenDeleted","ngOnInit","httpGetStudents","students$","elem","forEach","student","push","_this","_asyncToGenerator","error","httpDeleteStudent","user","id","ticketHasBeenSelected","hasBeenSelected","i0","ɵɵdirectiveInject","i1","StudentService","selectors","decls","vars","consts","template","UserListComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵelement","ɵɵlistener","UserListComponent_Template_app_user_studentHasBeenDeleted_15_listener","$event","ɵɵadvance","ɵɵproperty"],"sources":["C:\\Users\\Ni2\\Documents\\Angular_Front\\src\\app\\users\\user-list\\user-list.component.ts","C:\\Users\\Ni2\\Documents\\Angular_Front\\src\\app\\users\\user-list\\user-list.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { StudentService } from '../../../services/student/student.service';\nimport { Student } from '../../../models/student';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent {\n\n  public studentList: Student[] = [];\n  public STUDENTS_LIST: Array<any> = [];\n\n\n  constructor(public studentService: StudentService) {\n    // this.studentService.students$.subscribe((student) => this.studentList = student);\n    this.studentService.studentHasBeenAdded.subscribe((newStudent) => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    })\n    this.studentService.studentHasBeenDeleted.subscribe((newStudent) => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    })\n  }\n\n  ngOnInit() {\n    this.httpGetStudents();\n    this.studentService.students$.subscribe((elem) => {\n      elem.forEach(student => {\n        this.STUDENTS_LIST.push(student);\n      });\n    })\n  }\n  \n  async httpGetStudents() {\n    try {\n      await this.studentService.httpGetStudents();\n    } catch (error) {\n      console.error(\"Erreur httpGetStudents\");\n    }\n  }\n\n  httpDeleteStudent(user: Student) {\n    try {\n      console.log(\"USER LIST user: \", user)\n      this.studentService.httpDeleteStudent(user.id);\n    } catch (error) {\n      console.error(\"Erreur httpDeleteStudent\");\n    }\n  }\n\n  ticketHasBeenSelected(hasBeenSelected: boolean) {\n    console.log('event received from child:', hasBeenSelected);\n  }\n\n}\n","<p>Liste des étudiants</p>\n\n<app-user-form></app-user-form>\n\n<table>\n    <tr>\n        <th>Id</th>\n        <th>Nom</th>\n        <th>Prenom</th>\n        <th>Delete</th>\n    </tr>\n    <tbody id=\"tbody\" >\n        <tr class=\"tr\"  >\n            <app-user class=\"app\" [student]=student (studentHasBeenDeleted)=\"httpDeleteStudent($event)\" ></app-user>\n\n            <!-- <td> {{student.id}} </td>\n            <td> {{student.lastName}} </td>\n            <td> {{student.firstName}} </td>\n            <td> <button id='{{student.id}}' class=\"delete_button\" type=\"submit\" (studentHasBeenDeleted)=\"httpDeleteStudent($event)\"><i class=\"fas fa-trash\"></i></button> </td> -->\n        </tr>\n    </tbody>\n</table>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}