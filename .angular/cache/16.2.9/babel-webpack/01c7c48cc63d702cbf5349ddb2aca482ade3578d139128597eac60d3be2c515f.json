{"ast":null,"code":"import _asyncToGenerator from \"C:/Users/Ni2/Documents/Angular_Front/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nexport let UserListComponent = class UserListComponent {\n  studentService;\n  studentList = [];\n  STUDENTS_LIST = [];\n  constructor(studentService) {\n    this.studentService = studentService;\n    // this.studentService.students$.subscribe((student) => this.studentList = student);\n    this.studentService.studentHasBeenAdded.subscribe(newStudent => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    });\n    this.studentService.studentHasBeenDeleted.subscribe(newStudent => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    });\n  }\n  ngOnInit() {\n    this.httpGetStudents();\n    this.studentService.students$.subscribe(elem => {\n      elem.forEach(student => {\n        this.STUDENTS_LIST.push(student);\n      });\n    });\n  }\n  httpGetStudents() {\n    var _this = this;\n    return _asyncToGenerator(function* () {\n      try {\n        yield _this.studentService.httpGetStudents();\n      } catch (error) {\n        console.error(\"Erreur httpGetStudents\");\n      }\n    })();\n  }\n  httpDeleteStudent(id) {\n    try {\n      this.studentService.httpDeleteStudent(id.target.id);\n    } catch (error) {\n      console.error(\"Erreur httpDeleteStudent\");\n    }\n  }\n  ticketHasBeenSelected(hasBeenSelected) {\n    console.log('event received from child:', hasBeenSelected);\n  }\n};\nUserListComponent = __decorate([Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})], UserListComponent);","map":{"version":3,"names":["Component","UserListComponent","studentService","studentList","STUDENTS_LIST","constructor","studentHasBeenAdded","subscribe","newStudent","console","log","window","location","reload","studentHasBeenDeleted","ngOnInit","httpGetStudents","students$","elem","forEach","student","push","_this","_asyncToGenerator","error","httpDeleteStudent","id","target","ticketHasBeenSelected","hasBeenSelected","__decorate","selector","templateUrl","styleUrls"],"sources":["C:\\Users\\Ni2\\Documents\\Angular_Front\\src\\app\\users\\user-list\\user-list.component.ts"],"sourcesContent":["import { Component } from '@angular/core';\nimport { StudentService } from '../../../services/student/student.service';\nimport { Student } from '../../../models/student';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent {\n\n  public studentList: Student[] = [];\n  public STUDENTS_LIST: Array<any> = [];\n\n\n  constructor(public studentService: StudentService) {\n    // this.studentService.students$.subscribe((student) => this.studentList = student);\n    this.studentService.studentHasBeenAdded.subscribe((newStudent) => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    })\n    this.studentService.studentHasBeenDeleted.subscribe((newStudent) => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    })\n  }\n\n  ngOnInit() {\n    this.httpGetStudents();\n    this.studentService.students$.subscribe((elem) => {\n      elem.forEach(student => {\n        this.STUDENTS_LIST.push(student);\n      });\n    })\n  }\n\n  async httpGetStudents() {\n    try {\n      await this.studentService.httpGetStudents();\n    } catch (error) {\n      console.error(\"Erreur httpGetStudents\");\n    }\n  }\n\n  httpDeleteStudent(id: any) {\n    try {\n      this.studentService.httpDeleteStudent(id.target.id);\n    } catch (error) {\n      console.error(\"Erreur httpDeleteStudent\");\n    }\n  }\n\n  ticketHasBeenSelected(hasBeenSelected: boolean) {\n    console.log('event received from child:', hasBeenSelected);\n  }\n\n}\n"],"mappings":";;AAAA,SAASA,SAAS,QAAQ,eAAe;AASlC,WAAMC,iBAAiB,GAAvB,MAAMA,iBAAiB;EAMTC,cAAA;EAJZC,WAAW,GAAc,EAAE;EAC3BC,aAAa,GAAe,EAAE;EAGrCC,YAAmBH,cAA8B;IAA9B,KAAAA,cAAc,GAAdA,cAAc;IAC/B;IACA,IAAI,CAACA,cAAc,CAACI,mBAAmB,CAACC,SAAS,CAAEC,UAAU,IAAI;MAC/DC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,UAAU,CAAC;MAC7CG,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;IACF,IAAI,CAACX,cAAc,CAACY,qBAAqB,CAACP,SAAS,CAAEC,UAAU,IAAI;MACjEC,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEF,UAAU,CAAC;MAC7CG,MAAM,CAACC,QAAQ,CAACC,MAAM,EAAE;IAC1B,CAAC,CAAC;EACJ;EAEAE,QAAQA,CAAA;IACN,IAAI,CAACC,eAAe,EAAE;IACtB,IAAI,CAACd,cAAc,CAACe,SAAS,CAACV,SAAS,CAAEW,IAAI,IAAI;MAC/CA,IAAI,CAACC,OAAO,CAACC,OAAO,IAAG;QACrB,IAAI,CAAChB,aAAa,CAACiB,IAAI,CAACD,OAAO,CAAC;MAClC,CAAC,CAAC;IACJ,CAAC,CAAC;EACJ;EAEMJ,eAAeA,CAAA;IAAA,IAAAM,KAAA;IAAA,OAAAC,iBAAA;MACnB,IAAI;QACF,MAAMD,KAAI,CAACpB,cAAc,CAACc,eAAe,EAAE;OAC5C,CAAC,OAAOQ,KAAK,EAAE;QACdf,OAAO,CAACe,KAAK,CAAC,wBAAwB,CAAC;;IACxC;EACH;EAEAC,iBAAiBA,CAACC,EAAO;IACvB,IAAI;MACF,IAAI,CAACxB,cAAc,CAACuB,iBAAiB,CAACC,EAAE,CAACC,MAAM,CAACD,EAAE,CAAC;KACpD,CAAC,OAAOF,KAAK,EAAE;MACdf,OAAO,CAACe,KAAK,CAAC,0BAA0B,CAAC;;EAE7C;EAEAI,qBAAqBA,CAACC,eAAwB;IAC5CpB,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAEmB,eAAe,CAAC;EAC5D;CAED;AA/CY5B,iBAAiB,GAAA6B,UAAA,EAL7B9B,SAAS,CAAC;EACT+B,QAAQ,EAAE,eAAe;EACzBC,WAAW,EAAE,4BAA4B;EACzCC,SAAS,EAAE,CAAC,2BAA2B;CACxC,CAAC,C,EACWhC,iBAAiB,CA+C7B"},"metadata":{},"sourceType":"module","externalDependencies":[]}