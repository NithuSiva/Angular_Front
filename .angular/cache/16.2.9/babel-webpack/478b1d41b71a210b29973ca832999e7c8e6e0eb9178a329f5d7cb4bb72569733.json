{"ast":null,"code":"import * as i0 from \"@angular/core\";\nimport * as i1 from \"../../../services/student/student.service\";\nimport * as i2 from \"@angular/common\";\nimport * as i3 from \"../user-form/user-form.component\";\nimport * as i4 from \"../user/user.component\";\nfunction UserListComponent_tr_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r3 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\", 2)(1, \"app-user\", 3);\n    i0.ɵɵlistener(\"studentHasBeenDeleted\", function UserListComponent_tr_14_Template_app_user_studentHasBeenDeleted_1_listener($event) {\n      i0.ɵɵrestoreView(_r3);\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.httpDeleteStudent($event));\n    });\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const student_r1 = ctx.$implicit;\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"student\", student_r1);\n  }\n}\nexport let UserListComponent = /*#__PURE__*/(() => {\n  class UserListComponent {\n    studentService;\n    studentList = [];\n    STUDENTS_LIST = [];\n    constructor(studentService) {\n      this.studentService = studentService;\n      // this.studentService.students$.subscribe((student) => this.studentList = student);\n      this.studentService.studentHasBeenAdded.subscribe(newStudent => {\n        console.log(\"Emetteur a jours !\", newStudent);\n        window.location.reload();\n      });\n      this.studentService.studentHasBeenDeleted.subscribe(newStudent => {\n        console.log(\"Emetteur a jours !\", newStudent);\n        window.location.reload();\n      });\n    }\n    ngOnInit() {\n      this.httpGetStudents();\n    }\n    static ɵfac = function UserListComponent_Factory(t) {\n      return new (t || UserListComponent)(i0.ɵɵdirectiveInject(i1.StudentService));\n    };\n    static ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: UserListComponent,\n      selectors: [[\"app-user-list\"]],\n      decls: 15,\n      vars: 1,\n      consts: [[\"id\", \"tbody\"], [\"class\", \"tr\", 4, \"ngFor\", \"ngForOf\"], [1, \"tr\"], [3, \"student\", \"studentHasBeenDeleted\"]],\n      template: function UserListComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"p\");\n          i0.ɵɵtext(1, \"Liste des \\u00E9tudiants\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(2, \"app-user-form\");\n          i0.ɵɵelementStart(3, \"table\")(4, \"tr\")(5, \"th\");\n          i0.ɵɵtext(6, \"Id\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"th\");\n          i0.ɵɵtext(8, \"Nom\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(9, \"th\");\n          i0.ɵɵtext(10, \"Prenom\");\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(11, \"th\");\n          i0.ɵɵtext(12, \"Delete\");\n          i0.ɵɵelementEnd()();\n          i0.ɵɵelementStart(13, \"tbody\", 0);\n          i0.ɵɵtemplate(14, UserListComponent_tr_14_Template, 2, 1, \"tr\", 1);\n          i0.ɵɵelementEnd()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(14);\n          i0.ɵɵproperty(\"ngForOf\", ctx.STUDENTS_LIST);\n        }\n      },\n      dependencies: [i2.NgForOf, i3.UserFormComponent, i4.UserComponent],\n      styles: [\"body[_ngcontent-%COMP%], html[_ngcontent-%COMP%] {\\n    margin: 0;\\n    height: 100%;\\n}\\n\\np[_ngcontent-%COMP%] {\\n    width: 100%;\\n    text-align: center;\\n}\\n\\ntable[_ngcontent-%COMP%] {\\n    font-family: arial, sans-serif;\\n    border-collapse: collapse;\\n    width: 70%;\\n    margin: 0 auto;\\n}\\n  \\ntd[_ngcontent-%COMP%], th[_ngcontent-%COMP%] {\\n    border: 1px solid #dddddd;\\n    text-align: left;\\n    padding: 8px;\\n}\\n  \\ntr[_ngcontent-%COMP%]:nth-child(even) {\\n    background-color: #dddddd;\\n}\\n\\n.delete_button[_ngcontent-%COMP%] {\\n    width: 100%;\\n\\tborder: none;\\n\\tpadding: 0;\\n\\tfont: inherit;\\n\\tcursor: pointer;\\n\\toutline: inherit;\\n    background-color: transparent;\\n}\\n/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8uL3NyYy9hcHAvdXNlcnMvdXNlci1saXN0L3VzZXItbGlzdC5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksU0FBUztJQUNULFlBQVk7QUFDaEI7O0FBRUE7SUFDSSxXQUFXO0lBQ1gsa0JBQWtCO0FBQ3RCOztBQUVBO0lBQ0ksOEJBQThCO0lBQzlCLHlCQUF5QjtJQUN6QixVQUFVO0lBQ1YsY0FBYztBQUNsQjs7QUFFQTtJQUNJLHlCQUF5QjtJQUN6QixnQkFBZ0I7SUFDaEIsWUFBWTtBQUNoQjs7QUFFQTtJQUNJLHlCQUF5QjtBQUM3Qjs7QUFFQTtJQUNJLFdBQVc7Q0FDZCxZQUFZO0NBQ1osVUFBVTtDQUNWLGFBQWE7Q0FDYixlQUFlO0NBQ2YsZ0JBQWdCO0lBQ2IsNkJBQTZCO0FBQ2pDIiwic291cmNlc0NvbnRlbnQiOlsiYm9keSwgaHRtbCB7XHJcbiAgICBtYXJnaW46IDA7XHJcbiAgICBoZWlnaHQ6IDEwMCU7XHJcbn1cclxuXHJcbnAge1xyXG4gICAgd2lkdGg6IDEwMCU7XHJcbiAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbn1cclxuXHJcbnRhYmxlIHtcclxuICAgIGZvbnQtZmFtaWx5OiBhcmlhbCwgc2Fucy1zZXJpZjtcclxuICAgIGJvcmRlci1jb2xsYXBzZTogY29sbGFwc2U7XHJcbiAgICB3aWR0aDogNzAlO1xyXG4gICAgbWFyZ2luOiAwIGF1dG87XHJcbn1cclxuICBcclxudGQsIHRoIHtcclxuICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGRkZGQ7XHJcbiAgICB0ZXh0LWFsaWduOiBsZWZ0O1xyXG4gICAgcGFkZGluZzogOHB4O1xyXG59XHJcbiAgXHJcbnRyOm50aC1jaGlsZChldmVuKSB7XHJcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjZGRkZGRkO1xyXG59XHJcblxyXG4uZGVsZXRlX2J1dHRvbiB7XHJcbiAgICB3aWR0aDogMTAwJTtcclxuXHRib3JkZXI6IG5vbmU7XHJcblx0cGFkZGluZzogMDtcclxuXHRmb250OiBpbmhlcml0O1xyXG5cdGN1cnNvcjogcG9pbnRlcjtcclxuXHRvdXRsaW5lOiBpbmhlcml0O1xyXG4gICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XHJcbn0iXSwic291cmNlUm9vdCI6IiJ9 */\"]\n    });\n  }\n  return UserListComponent;\n})();\nthis.studentService.students$.subscribe(elem => {\n  elem.forEach(student => {\n    this.STUDENTS_LIST.push(student);\n  });\n});\nasync;\nhttpGetStudents();\n{\n  try {\n    await this.studentService.httpGetStudents();\n  } catch (error) {\n    console.error(\"Erreur httpGetStudents\");\n  }\n}\nhttpDeleteStudent(user, Student);\n{\n  try {\n    console.log(\"USER LIST user: \", user);\n    this.studentService.httpDeleteStudent(user.id);\n  } catch (error) {\n    console.error(\"Erreur httpDeleteStudent\");\n  }\n}\nticketHasBeenSelected(hasBeenSelected, boolean);\n{\n  console.log('event received from child:', hasBeenSelected);\n}","map":{"version":3,"names":["i0","ɵɵelementStart","ɵɵlistener","UserListComponent_tr_14_Template_app_user_studentHasBeenDeleted_1_listener","$event","ɵɵrestoreView","_r3","ctx_r2","ɵɵnextContext","ɵɵresetView","httpDeleteStudent","ɵɵelementEnd","ɵɵadvance","ɵɵproperty","student_r1","UserListComponent","studentService","studentList","STUDENTS_LIST","constructor","studentHasBeenAdded","subscribe","newStudent","console","log","window","location","reload","studentHasBeenDeleted","ngOnInit","httpGetStudents","ɵɵdirectiveInject","i1","StudentService","selectors","decls","vars","consts","template","UserListComponent_Template","rf","ctx","ɵɵtext","ɵɵelement","ɵɵtemplate","UserListComponent_tr_14_Template","students$","elem","forEach","student","push","async","error","user","Student","id","ticketHasBeenSelected","hasBeenSelected","boolean"],"sources":["C:\\Users\\Ni2\\Documents\\Angular_Front\\src\\app\\users\\user-list\\user-list.component.ts","C:\\Users\\Ni2\\Documents\\Angular_Front\\src\\app\\users\\user-list\\user-list.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { StudentService } from '../../../services/student/student.service';\nimport { Student } from '../../../models/student';\n\n@Component({\n  selector: 'app-user-list',\n  templateUrl: './user-list.component.html',\n  styleUrls: ['./user-list.component.css']\n})\nexport class UserListComponent {\n\n  public studentList: Student[] = [];\n  public STUDENTS_LIST: Array<any> = [];\n\n\n  constructor(public studentService: StudentService) {\n    // this.studentService.students$.subscribe((student) => this.studentList = student);\n    this.studentService.studentHasBeenAdded.subscribe((newStudent) => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    })\n    this.studentService.studentHasBeenDeleted.subscribe((newStudent) => {\n      console.log(\"Emetteur a jours !\", newStudent);\n      window.location.reload();\n    })\n  }\n\n  ngOnInit() {\n    this.httpGetStudents();\n    \n  }\n\n    this.studentService.students$.subscribe((elem) => {\n      elem.forEach(student => {\n        this.STUDENTS_LIST.push(student);\n      });\n    })\n  \n  async httpGetStudents() {\n    try {\n      await this.studentService.httpGetStudents();\n    } catch (error) {\n      console.error(\"Erreur httpGetStudents\");\n    }\n  }\n\n  httpDeleteStudent(user: Student) {\n    try {\n      console.log(\"USER LIST user: \", user)\n      this.studentService.httpDeleteStudent(user.id);\n    } catch (error) {\n      console.error(\"Erreur httpDeleteStudent\");\n    }\n  }\n\n  ticketHasBeenSelected(hasBeenSelected: boolean) {\n    console.log('event received from child:', hasBeenSelected);\n  }\n\n}\n","<p>Liste des étudiants</p>\n\n<app-user-form></app-user-form>\n\n<table>\n    <tr>\n        <th>Id</th>\n        <th>Nom</th>\n        <th>Prenom</th>\n        <th>Delete</th>\n    </tr>\n    <tbody id=\"tbody\" >\n        <tr class=\"tr\" *ngFor=\"let student of STUDENTS_LIST\">\n            <app-user [student]=student (studentHasBeenDeleted)=\"httpDeleteStudent($event)\" ></app-user>\n\n            <!-- <td> {{student.id}} </td>\n            <td> {{student.lastName}} </td>\n            <td> {{student.firstName}} </td>\n            <td> <button id='{{student.id}}' class=\"delete_button\" type=\"submit\" (studentHasBeenDeleted)=\"httpDeleteStudent($event)\"><i class=\"fas fa-trash\"></i></button> </td> -->\n        </tr>\n    </tbody>\n</table>\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}